<app-navbar></app-navbar>

<div class="home-container">

  <!-- üîé SEARCH BAR -->
  <div class="search-box">
    <input
      type="text"
      placeholder="Search movies..."
      [(ngModel)]="searchTerm"
      (input)="searchMovies()"
    />
  </div>

  <!-- ‚≠ê SEARCH RESULTS -->
  <div *ngIf="filtered.length > 0">
    <h2>Filtered Results</h2>

    <div class="carousel-wrapper">
      <button class="arrow left" (click)="scrollLeft('filtered')">‚ùÆ</button>

      <div class="carousel" id="filtered">
        
        <div *ngFor="let m of filtered" class="movie-card" (click)="openSchedule(m)">

          <!-- Poster -->
          <img [src]="'assets/images/' + m.image" alt="{{ m.title }}" class="poster">

          <!-- Title -->
          <h3>{{ m.title }}</h3>

          <!-- Release date -->
          <p class="small">Release: {{ m.release_date }}</p>

          <!-- Duration -->
          <p class="small">{{ m.duration }}</p>

          <!-- Certification -->
          <span class="badge">{{ m.certification }}</span>

          <!-- Genre -->
          <div class="genre-box">
            <span *ngFor="let g of m.genre" class="genre-tag">
              {{ g }}
            </span>
          </div>

        </div>

      </div>

      <button class="arrow right" (click)="scrollRight('filtered')">‚ùØ</button>
    </div>
  </div>

  <!-- üé¨ NOW SHOWING -->
  <h2>Now Showing</h2>

  <div class="carousel-wrapper">
    <button class="arrow left" (click)="scrollLeft('now')">‚ùÆ</button>

    <div class="carousel" id="now">

      <div *ngFor="let m of nowShowing" class="movie-card" (click)="openSchedule(m)">
        
        <img [src]="'assets/images/' + m.image" alt="{{ m.title }}" class="poster">

        <h3>{{ m.title }}</h3>
        <p class="small">Release: {{ m.release_date }}</p>
        <p class="small">{{ m.duration }}</p>
        <span class="badge">{{ m.certification }}</span>

        <div class="genre-box">
          <span *ngFor="let g of m.genre" class="genre-tag">
            {{ g }}
          </span>
        </div>

      </div>

    </div>

    <button class="arrow right" (click)="scrollRight('now')">‚ùØ</button>
  </div>

  <!-- üåü SPOTLIGHT -->
  <h2>Spotlight</h2>

  <div class="carousel-wrapper">
    <button class="arrow left" (click)="scrollLeft('spot')">‚ùÆ</button>

    <div class="carousel" id="spot">

      <div *ngFor="let m of spotlight" class="movie-card" (click)="openSchedule(m)">

        <img [src]="'assets/images/' + m.image" alt="{{ m.title }}" class="poster">

        <h3>{{ m.title }}</h3>
        <p class="small">Release: {{ m.release_date }}</p>
        <p class="small">{{ m.duration }}</p>
        <span class="badge">{{ m.certification }}</span>

        <div class="genre-box">
          <span *ngFor="let g of m.genre" class="genre-tag">
            {{ g }}
          </span>
        </div>

      </div>

    </div>

    <button class="arrow right" (click)="scrollRight('spot')">‚ùØ</button>
  </div>

  <!-- üöÄ COMING SOON -->
  <h2>Coming Soon</h2>

  <div class="carousel-wrapper">
    <button class="arrow left" (click)="scrollLeft('soon')">‚ùÆ</button>

    <div class="carousel" id="soon">

      <div *ngFor="let m of comingSoon" class="movie-card" (click)="openSchedule(m)">

        <img [src]="'assets/images/' + m.image" alt="{{ m.title }}" class="poster">

        <h3>{{ m.title }}</h3>
        <p class="small">Release: {{ m.release_date }}</p>
        <p class="small">{{ m.duration }}</p>
        <span class="badge">{{ m.certification }}</span>

        <div class="genre-box">
          <span *ngFor="let g of m.genre" class="genre-tag">
            {{ g }}
          </span>
        </div>

      </div>

    </div>

    <button class="arrow right" (click)="scrollRight('soon')">‚ùØ</button>
  </div>

</div>

<app-footer></app-footer>
